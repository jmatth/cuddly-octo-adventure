<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Foundation | Welcome</title>
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/my.css" />
    <script src="js/vendor/modernizr.js"></script>
    <!-- polyfill -->
    <script src="../js/inc/shim/Base64.js" type="text/javascript"></script>
    <script src="../js/inc/shim/Base64binary.js" type="text/javascript"></script>
    <script src="../js/inc/shim/WebAudioAPI.js" type="text/javascript"></script>
    <!-- midi.js package -->
    <script src="../js/midi/audioDetect.js" type="text/javascript"></script>
    <script src="../js/midi/gm.js" type="text/javascript"></script>
    <script src="../js/midi/loader.js" type="text/javascript"></script>
    <script src="../js/midi/plugin.audiotag.js" type="text/javascript"></script>
    <script src="../js/midi/plugin.webaudio.js" type="text/javascript"></script>
    <script src="../js/midi/plugin.webmidi.js" type="text/javascript"></script>
    <!-- utils -->
    <script src="../js/util/dom_request_xhr.js" type="text/javascript"></script>
    <script src="../js/util/dom_request_script.js" type="text/javascript"></script>
  </head>
  <body>
    
    <div id="top-container">
      <img id="logo" src="/img/aria-logo.png">
      <div class="top-image-overlay" id="gradient"></div>
      <div class="image-gray" id="top-image"></div>

    </div>
    <input id="upload-image" type='file' onchange="readURL(this);" />
    
    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
    <script src="js/gradient_changer.js"></script>
    <script src="js/my.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>

    <script type="text/javascript">
      window.onload = function () {
              MIDI.loadPlugin({
                soundfontUrl: "./soundfont/",
                instrument: "acoustic_grand_piano",
                onprogress: function(state, progress) {
                  console.log(state, progress);
                },
                onsuccess: function() {
                  var delay = 0; // play one note every quarter second
                  var note = 50; // the MIDI note
                  var velocity = 127; // how hard the note hits
                  // play the note
                  MIDI.programChange(0, 0);
                  MIDI.programChange(1, 118);
                  MIDI.setVolume(0, 127);
                  MIDI.noteOn(0, note, velocity, delay);
                  // MIDI.noteOff(0, note, delay + 0.15);
                }
              });
            };
    </script>
  </body>
</html>
